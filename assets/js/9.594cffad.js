(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{173:function(a,s,e){"use strict";e.r(s);var n=e(0),t=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"图片预加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#图片预加载","aria-hidden":"true"}},[a._v("#")]),a._v(" 图片预加载")]),a._v(" "),e("h2",{attrs:{id:"什么是图片预加载？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是图片预加载？","aria-hidden":"true"}},[a._v("#")]),a._v(" 什么是图片预加载？")]),a._v(" "),e("p",[a._v("图片预加载，简单来讲是将需要用到的一些图片提前进行加载，当真正使用的时候直接从缓存中获取，因此没有了加载等待或者图片显示不出来的问题。")]),a._v(" "),e("h2",{attrs:{id:"为什么要图片预加载？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么要图片预加载？","aria-hidden":"true"}},[a._v("#")]),a._v(" 为什么要图片预加载？")]),a._v(" "),e("p",[a._v("在一些以图片为主的网站，特别是一些动画较多的H5网站。这些网站有着大量的图片资源，同时对动画的流畅性要求较高，如果用户的网络较慢，就会出现图片没有显示完全，动画就已经在播放的情况了，因此图片资源必须做到提前预加载，这样才能保证动画的流畅性和完整性")]),a._v(" "),e("h2",{attrs:{id:"如何做到图片预加载？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何做到图片预加载？","aria-hidden":"true"}},[a._v("#")]),a._v(" 如何做到图片预加载？")]),a._v(" "),e("p",[a._v("图片预加载的基本思路就是动态的创建Image对象，然后将我们要加载的图片链接赋值给Image对象的src属性，再监听其onload事件，也就是图片加载完成事件。代码如下")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("let img=new Image();\nimg.onload=()=>{\n  console.log('图片加载完成');\n}\nimg.src=\"../images/example0.png\";\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br")])]),e("p",[a._v("如上，简单的一张图片的加载就完成了，但是当网站上有大量的图片资源需要加载的时候，显然就不太方便了。这时我们需要将图片按照队列的方式来加载，也就是一张一张的加载，加载完成我们就标记一下，直到全部加载完成。")]),a._v(" "),e("p",[a._v("代码如下")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('let imgArr=[\n    "../images/example0.png",\n    "../images/example1.png",\n    "../images/example2.png",\n    "../images/example3.png",\n    "../images/example4.png",\n    "../images/example5.png",\n];\n\nimg.onload=()=>{\n  console.log(\'图片加载完成\');\n}\nimg.src="../images/example0.png";\n\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br")])])])}],!1,null,null,null);s.default=t.exports}}]);